(this["webpackJsonpclendar-events"]=this["webpackJsonpclendar-events"]||[]).push([[0],{183:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n(26),s=n.n(c),i=n(78),o=n(290),u=(n(183),n(23)),j=i.c,l=n(82),b=n(291),d=n(89),O=n(292),h=n(294),p=n(52),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!";return{required:!0,message:e}},f=n(81),m=n(47),v=n(67),g=n.n(v),E=n(125),I=n(161),y=n.n(I);!function(e){e.SET_AUTH="SET_AUTH",e.SET_ERROR="SET_ERROR",e.SET_USER="SET_USER",e.SET_IS_LOADING="SET_IS_LOADING"}(r||(r={}));var S={setUser:function(e){return{type:r.SET_USER,payload:e}},setIsAuth:function(e){return{type:r.SET_AUTH,payload:e}},setIsLoading:function(e){return{type:r.SET_IS_LOADING,payload:e}},setError:function(e){return{type:r.SET_ERROR,payload:e}},login:function(e,t){return function(){var n=Object(E.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r(S.setIsLoading(!0)),setTimeout(Object(E.a)(g.a.mark((function n(){var a,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.get("./users.json");case 2:a=n.sent,(c=a.data.find((function(n){return n.username===e&&n.password===t})))?(localStorage.setItem("auth","true"),localStorage.setItem("username",c.username),r(S.setIsAuth(!0)),r(S.setUser(c))):r(S.setError("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),r(S.setIsLoading(!1));case 6:case"end":return n.stop()}}),n)}))),1e3)}catch(a){r(S.setError("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"))}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(E.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("auth"),localStorage.removeItem("username"),t(S.setUser({})),t(S.setIsAuth(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},T=Object(m.a)({},S),_=function(){var e=Object(i.b)();return Object(f.b)(T,e)},L=n(7);function w(){var e=j((function(e){return e.auth})),t=e.error,n=e.isLoading,r=Object(a.useState)(""),c=Object(d.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),l=u[0],b=u[1],f=_().login;return Object(L.jsxs)(O.a,{labelCol:{span:11},onFinish:function(){f(s,l)},children:[t&&Object(L.jsx)("div",{style:{color:"red"},children:t}),Object(L.jsx)(O.a.Item,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",name:"username",rules:[x("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!")],children:Object(L.jsx)(h.a,{value:s,onChange:function(e){return i(e.target.value)}})}),Object(L.jsx)(O.a.Item,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",rules:[x("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c!")],children:Object(L.jsx)(h.a,{type:"password",value:l,onChange:function(e){return b(e.target.value)}})}),Object(L.jsx)(O.a.Item,{wrapperCol:{offset:9},children:Object(L.jsx)(p.a,{type:"primary",htmlType:"submit",loading:n,children:"\u0412\u043e\u0439\u0442\u0438"})})]})}var A,R=n(296),k=n(295),N=function(){return Object(L.jsx)(k.a,{})},U=n(293),C=n(136);function G(){return Object(L.jsxs)(O.a,{children:[Object(L.jsx)(O.a.Item,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f",name:"description",rules:[x()],children:Object(L.jsx)(h.a,{})}),Object(L.jsx)(O.a.Item,{wrapperCol:{offset:2},label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",name:"data",rules:[x()],children:Object(L.jsx)(U.a,{})}),Object(L.jsx)(O.a.Item,{wrapperCol:{offset:2},label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f",name:"data",rules:[x()],children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(C.a.Option,{value:"jack",children:"Jack"}),Object(L.jsx)(C.a.Option,{value:"lucy",children:"Lucy"}),Object(L.jsx)(C.a.Option,{value:"disabled",disabled:!0,children:"Disabled"}),Object(L.jsx)(C.a.Option,{value:"Yiminghe",children:"yiminghe"})]})}),Object(L.jsx)(l.a,{justify:"end",children:Object(L.jsx)(O.a.Item,{children:Object(L.jsx)(p.a,{type:"primary",htmlType:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})})})]})}!function(e){e.LOGIN="/login",e.EVENT="/"}(A||(A={}));var D=[{path:A.LOGIN,exact:!0,component:function(){return Object(L.jsx)(o.a,{children:Object(L.jsx)(l.a,{justify:"center",align:"middle",className:"h100",children:Object(L.jsx)(b.a,{children:Object(L.jsx)(w,{})})})})}}],H=[{path:A.EVENT,exact:!0,component:function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(L.jsxs)(o.a,{children:[Object(L.jsx)(N,{events:[]}),Object(L.jsx)(l.a,{justify:"center",children:Object(L.jsx)(p.a,{onClick:function(){return r(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f"})}),Object(L.jsx)(R.a,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f",visible:n,footer:null,onCancel:function(){return r(!1)},children:Object(L.jsx)(G,{})})]})}}];function F(){return j((function(e){return e.auth})).isAuth?Object(L.jsxs)(u.d,{children:[H.map((function(e){return Object(L.jsx)(u.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(L.jsx)(u.a,{to:A.EVENT})]}):Object(L.jsxs)(u.d,{children:[D.map((function(e){return Object(L.jsx)(u.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(L.jsx)(u.a,{to:A.LOGIN})]})}var J=n(297);function V(){var e=Object(u.g)(),t=j((function(e){return e.auth})),n=t.isAuth,r=t.user,a=_().logout;return Object(L.jsx)(o.a.Header,{children:Object(L.jsx)(l.a,{justify:"end",children:n?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{style:{color:"white"},children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c ",r.username]}),Object(L.jsx)(J.a,{theme:"dark",mode:"horizontal",selectable:!1,children:Object(L.jsx)(J.a.Item,{onClick:function(){return a()},children:"\u0412\u044b\u0439\u0442\u0438"},1)})]}):Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(J.a,{theme:"dark",mode:"horizontal",selectable:!1,children:Object(L.jsx)(J.a.Item,{onClick:function(){return e.push(A.LOGIN)},children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"},1)})})})})}var z=function(){var e=_(),t=e.setUser,n=e.setIsAuth;return Object(a.useEffect)((function(){localStorage.getItem("auth")&&(t({username:localStorage.getItem("username")}),n(!0))})),Object(L.jsxs)(o.a,{children:[Object(L.jsx)(V,{}),Object(L.jsx)(o.a.Content,{children:Object(L.jsx)(F,{})})]})},q=n(133),B=n(167),Y={isAuth:!1,error:"",isLoading:!1,user:{}};var K={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_AUTH:return Object(m.a)(Object(m.a)({},e),{},{isAuth:t.payload,isLoading:!1});case r.SET_ERROR:return Object(m.a)(Object(m.a)({},e),{},{error:t.payload,isLoading:!1});case r.SET_IS_LOADING:return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.payload});case r.SET_USER:return Object(m.a)(Object(m.a)({},e),{},{user:t.payload});default:return e}}},M=Object(f.c)(K),P=Object(f.d)(M,Object(f.a)(B.a));s.a.render(Object(L.jsx)(i.a,{store:P,children:Object(L.jsx)(q.a,{children:Object(L.jsx)(z,{})})}),document.getElementById("root"))}},[[287,1,2]]]);
//# sourceMappingURL=main.4da1f7b0.chunk.js.map